<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<title>jquery-pinterest</title>
	<style type="text/css">
		li {
			list-style: none;
			margin-bottom: 20px;
		}
	</style>
</head>

<body>
<ul>
	<li>
		<img src="img/slide-1.jpg" title="slide-1">
	</li>
	<li>
		<img src="img/slide-2.jpg" title="slide-2">
	</li>
	<li>
		<img src="img/slide-3.jpg" title="slide-3">
	</li>
	<li>
		<img src="img/slide-4.jpg" title="slide-4">
	</li>
	<li>
		<img src="img/slide-5.jpg" title="slide-5">
	</li>
</ul>
<!-- <img src="img/slide-1.jpg">
<a 
	href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fjquery-mg-pinterest.dev%2Findex.html&media=img%2Fslide-1.jpg&description=slide-1" 
	class="pin-it-button" 
	count-layout="none">Pin It</a> -->

<!--<script type="text/javascript">
(function() {
    window.PinIt = window.PinIt || { loaded:false };
    if (window.PinIt.loaded) return;
    window.PinIt.loaded = true;
    function async_load(){
        var s = document.createElement("script");
        s.type = "text/javascript";
        s.async = true;
        if (window.location.protocol == "https:")
            s.src = "https://assets.pinterest.com/js/pinit.js";
        else
            s.src = "http://assets.pinterest.com/js/pinit.js";
        var x = document.getElementsByTagName("script")[0];
        x.parentNode.insertBefore(s, x);
    }
    if (window.attachEvent)
        window.attachEvent("onload", async_load);
    else
        window.addEventListener("load", async_load, false);
})();
</script> -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>
pinit('ul img');

function pinit(imgSelector/*='img'*/) {
	var
		pageUrl = window.location.href
	;
	
	$(window).load(function() {
		$(imgSelector).each(function(i, img) {
			var
				iframeUrl = window.location.protocol + '//d3io1k5o0zdpqr.cloudfront.net/pinit.html'
				qs = $.param({
					url: pageUrl,
					media: 'http://mgiulio.altervista.org/wp-content/uploads/2012/01/Playing-with-Open-Data-a-simple-viewer-for-DecoroUrbano.org_.jpg',//img.src,
					description: img.title,
					layout: 'none'
				}),
				iframe = $('<iframe></iframe>')
					.attr('src', iframeUrl + '?' + qs)
					.attr('scrolling', 'no')
					.attr('allowtransparency', true)
					.attr('frameborder', 0)
					.css({
						position: 'absolute',
						right: '2px',
						top: '2px',
						border: 'none',
						width: '43px',
						height: '20px'
					})
			;
			$(img)
				.wrap(
					$('<div class="mg-container" style="position: relative;"></div>')
						.css({width: $(img).width(), height: $(img).height()})
				)
				.after(iframe)
			;
		});
	});
}
</script>

</body>
</html>