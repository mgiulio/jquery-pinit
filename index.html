<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<title>jquery-pinterest</title>
	<style type="text/css">
		li {
			list-style: none;
			margin-bottom: 20px;
		}
	</style>
</head>

<body>

<ul>
	<li>
		<img src="img/slide-1.jpg" title="slide-1">
	</li>
	<li>
		<img src="img/slide-2.jpg" title="slide-2">
	</li>
	<li>
		<img src="img/slide-3.jpg" title="slide-3">
	</li>
	<li>
		<img src="img/slide-4.jpg" title="slide-4">
	</li>
	<li>
		<img src="img/slide-5.jpg" title="slide-5">
	</li>
</ul>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>
pinit('img');

function pinit(imgSelector/*='img'*/) {
	var
		pageUrl = window.location.href,
		cfg = {
			layout: 'none' // 'horizontal', 'vertical'
		}
	;
	
	$(window).load(function() {
		$(imgSelector).each(function(i, img) {
			var
				iframeUrl = window.location.protocol + '//d3io1k5o0zdpqr.cloudfront.net/pinit.html'
				qs = $.param({
					url: pageUrl,
					media: 'http://mgiulio.altervista.org/wp-content/uploads/2012/01/Playing-with-Open-Data-a-simple-viewer-for-DecoroUrbano.org_.jpg',//img.src,
					description: img.title,
					layout: cfg.layout
				}),
				iframe = $('<iframe></iframe>')
					.attr('src', iframeUrl + '?' + qs)
					.attr('scrolling', 'no')
					.attr('allowtransparency', true) // a.allowTransparency=true;
					.attr('frameborder', 0) // a.frameBorder=0;
					.css({
						position: 'absolute',
						right: '2px',
						top: '2px',
						border: 'none',
						width: (cfg.layout === 'none')? '43px' : ((cfg.layout === 'vertical')? '43px' : '90px'),
						height: (cfg.layout === 'none')? '20px' : ((cfg.layout === 'vertical')? '58px' : '20px')
					})
			;
			$(img)
				.wrap(
					$('<div class="mg-container" style="position: relative;"></div>')
						.css({width: $(img).width(), height: $(img).height()})
				)
				.after(iframe)
			;
		});
	});
}
</script>

</body>
</html>