<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<title>jquery-pinterest</title>
	<style type="text/css">
		li {
			list-style: none;
			margin-bottom: 20px;
		}
	</style>
</head>

<body>

<ul>
	<li>
		<img src="img/slide-1.jpg" title="slide-1">
	</li>
	<li>
		<img src="img/slide-2.jpg" title="slide-2">
	</li>
	<li>
		<img src="img/slide-3.jpg" title="slide-3">
	</li>
	<li>
		<img src="img/slide-4.jpg" title="slide-4">
	</li>
	<li>
		<img src="img/slide-5.jpg" title="slide-5">
	</li>
</ul>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>
pinit('img');

function pinit(imgSelector/*='img'*/) {
	var
		pageUrl = window.location.href//'http://mgiulio.altervista.org'
	;
	
	$(window).load(function() {
		$(imgSelector).each(function(i, img) {
			var
				url = img.src,
				desc = img.title
			;
			$(img)
				.wrap(
					$('<div class="mg-container" style="position: relative;"></div>')
						.css({width: $(img).width(), height: $(img).height()})
				)
				.after(
					'<a  style="position: absolute; right: 2px; top: 2px;"' +
						'class="pin-it-button" ' +
						'count-layout="horizontal" ' + // where is the counter?
						'href="http://pinterest.com/pin/create/button/?' + 
							$.param({url: pageUrl,
								media: 'http://mgiulio.altervista.org/wp-content/uploads/2012/01/Playing-with-Open-Data-a-simple-viewer-for-DecoroUrbano.org_.jpg',//img.src,
								description: img.title
							}) +
						'">' + 
					'Pin It' +
					'</a>')
			;
		});
		
		var s = document.createElement("script");
		s.type = "text/javascript";
		s.async = true;
		if (window.location.protocol == "https:")
			s.src = "https://assets.pinterest.com/js/pinit.js";
		else
			s.src = "http://assets.pinterest.com/js/pinit.js";
		s.onload = function() { 
			$('.mg-container iframe').css({position: 'absolute', right: '2px', top: '2px'});
		};
		var x = document.getElementsByTagName("script")[0];
		x.parentNode.insertBefore(s, x);
	});
}
</script>

</body>
</html>